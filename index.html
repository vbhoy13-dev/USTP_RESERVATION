<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Login - USTP ROOM RESERVATION SYSTEM</title>
    <style>
        body { font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; margin: 0; background: #001122; color: #FFFFFF; padding: 20px; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .container { background: #002244; padding: 40px; border-radius: 12px; box-shadow: 0 6px 16px rgba(0,0,0,.3); max-width: 400px; width: 100%; }
        h1 { color: #FFD700; text-align: center; margin-bottom: 20px; }
        .tabs { display: flex; justify-content: center; margin-bottom: 20px; }
        .tab-button { padding: 10px 20px; background: #002244; border: 1px solid #666666; cursor: pointer; color: #FFFFFF; border-radius: 8px 8px 0 0; }
        .tab-button.active { background: #FFD700; color: #000000; }
        .form { display: none; }
        .form.active { display: block; }
        input { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #666666; border-radius: 8px; background: #001122; color: #FFFFFF; box-sizing: border-box; }
        button { width: 100%; padding: 10px; background: #FFD700; color: #000000; border: none; border-radius: 8px; cursor: pointer; margin-top: 10px; }
        button:hover { background: #E6C200; }
        .link { text-align: center; margin-top: 20px; color: #FFD700; cursor: pointer; }
    </style>
</head>
<body>
    <div class="container">
        <h1>USTP ROOM RESERVATION SYSTEM</h1>
        <div class="tabs">
            <button class="tab-button active" onclick="showForm('login')">Login</button>
            <button class="tab-button" onclick="showForm('register')">Register</button>
            <button class="tab-button" onclick="showForm('forgot')">Forgot Password</button>
        </div>
        <form id="login" class="form active" onsubmit="login(event)">
            <input type="email" id="login-email" placeholder="Email" required>
            <input type="password" id="login-password" placeholder="Password" required>
            <button type="submit">Login</button>
        </form>
        <form id="register" class="form" onsubmit="register(event)">
            <input type="email" id="reg-email" placeholder="Email" required>
            <input type="password" id="reg-password" placeholder="Password" required>
            <input type="password" id="reg-confirm" placeholder="Confirm Password" required>
            <button type="submit">Register</button>
        </form>
        <form id="forgot" class="form" onsubmit="forgotPassword(event)">
            <input type="email" id="forgot-email" placeholder="Email" required>
            <button type="submit">Reset Password</button>
        </form>
    </div>
    <script>
        function showForm(formId) {
            document.querySelectorAll('.form').forEach(f => f.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
            document.getElementById(formId).classList.add('active');
            document.querySelector(`[onclick="showForm('${formId}')"]`).classList.add('active');
        }

        function login(event) {
            event.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);
            if (user) {
                localStorage.setItem('loggedIn', 'true');
                localStorage.setItem('user', email);
                window.location.href = 'USTP ROOM RESERVATION SYSTEM.html';
            } else {
                alert('Invalid credentials');
            }
        }

        function register(event) {
            event.preventDefault();
            const email = document.getElementById('reg-email').value;
            const password = document.getElementById('reg-password').value;
            const confirm = document.getElementById('reg-confirm').value;
            if (password !== confirm) {
                alert('Passwords do not match');
                return;
            }
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            if (users.find(u => u.email === email)) {
                alert('User already exists');
                return;
            }
            users.push({ email, password });
            localStorage.setItem('users', JSON.stringify(users));
            alert('Registration successful. Please login.');
            showForm('login');
        }

        function forgotPassword(event) {
            event.preventDefault();
            const email = document.getElementById('forgot-email').value;
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.email === email);
            if (user) {
                alert('Password reset link sent to your email (mock).');
            } else {
                alert('Email not found');
            }
        }
    </script>
</body>
</html>